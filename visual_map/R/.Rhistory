library(leaflet)
df_history <- read.csv("emap_A.csv")
df_history <- df_history[,c("lat","lng","size_check","owner","years")]
df_history[,"size_check"] <- df_history[,"size_check"]/256
df_history[,"years"] <- as.numeric(gsub("([0-9]+).*$", "\\1", df_history[,"years"]))
df_history[which(is.na(df_history[,"years"])),"years"] <- 0
m = leaflet(df_history) %>% addTiles()
owner <- unique(df_history[,"owner"])
RdYlBu = colorFactor("RdYlBu", owner)
m %>% addCircleMarkers(~lng, ~lat, radius = ~size_check,
color = ~RdYlBu(owner), fillOpacity = 0.5)
print(source('leaflet.R')$value)
print(source('leaflet.R')$value)
range(df_history$years)
print(source('leaflet.R')$value)
print(source('leaflet.R')$value)
print(source('leaflet.R')$value)
print(source('leaflet.R')$value)
print(source('leaflet.R')$value)
print(source('leaflet.R')$value)
print(source('leaflet.R')$value)
print(source('leaflet.R')$value)
print(source('leaflet.R')$value)
print(source('leaflet.R')$value)
print(source('leaflet.R')$value)
print(source('leaflet.R')$value)
colorNumeric(df_history$years, c(1800,2000))
df_history$years
colorNumeric(df_history$years, df_history$years)
df_history$years
print(source('leaflet.R')$value)
print(source('leaflet.R')$value)
print(source('leaflet.R')$value)
print(source('leaflet.R')$value)
print(source('leaflet.R')$value)
print(source('leaflet.R')$value)
print(source('leaflet.R')$value)
print(source('leaflet.R')$value)
print(source('leaflet.R')$value)
print(source('leaflet.R')$value)
View(df_history)
library(leaflet)
df_history <- read.csv("emap_A.csv")
df_history <- df_history[,c("lat","lng","size_check","owner","years")]
df_history[,"size_check"] <- df_history[,"size_check"]/100
df_history[,"years"] <- as.numeric(gsub("([0-9]+).*$", "\\1", df_history[,"years"]))
df_history[which(is.na(df_history[,"years"])),"years"] <- 0
m = leaflet(df_history) %>% addTiles()
library(leaflet)
df_history <- read.csv("emap_A.csv")
df_history <- df_history[,c("lat","lng","size_check","owner","years")]
df_history[,"size_check"] <- df_history[,"size_check"]/100
df_history[,"years"] <- as.numeric(gsub("([0-9]+).*$", "\\1", df_history[,"years"]))
df_history[which(is.na(df_history[,"years"])),"years"] <- 2000
m = leaflet(df_history) %>% addTiles()
owner <- unique(df_history[,"owner"])
RdYlBu = colorFactor("RdYlBu", owner)
m %>% addCircleMarkers(~lng, ~lat, radius = ~size_check,
color = ~RdYlBu(owner), fillOpacity = 0.5)
print(source('leaflet.R')$value)
library(leaflet)
df_history <- read.csv("emap_A.csv")
df_history <- df_history[,c("lat","lng","size_check","owner","years")]
df_history[,"size_check"] <- df_history[,"size_check"]/100
df_history[,"years"] <- as.numeric(gsub("([0-9]+).*$", "\\1", df_history[,"years"]))
df_history[which(is.na(df_history[,"years"])),"years"] <- 2000
m = leaflet(df_history) %>% addTiles()
owner <- unique(df_history[,"owner"])
RdYlBu = colorFactor("RdYlBu", owner)
m %>% addCircleMarkers(~lng, ~lat, radius = ~size_check,
color = ~RdYlBu(owner), fillOpacity = 0.5)
library(leaflet)
df_history <- read.csv("emap_A.csv")
df_history <- df_history[,c("lat","lng","size_check","owner","years")]
df_history[,"size_check"] <- df_history[,"size_check"]
df_history[,"years"] <- as.numeric(gsub("([0-9]+).*$", "\\1", df_history[,"years"]))
df_history[which(is.na(df_history[,"years"])),"years"] <- 2000
m = leaflet(df_history) %>% addTiles()
owner <- unique(df_history[,"owner"])
RdYlBu = colorFactor("RdYlBu", owner)
m %>% addCircleMarkers(~lng, ~lat, radius = ~size_check,
color = ~RdYlBu(owner), fillOpacity = 0.5)
View(df_history)
print(source('leaflet.R')$value)
print(source('leaflet.R')$value)
print(source('leaflet.R')$value)
print(source('leaflet.R')$value)
library(leaflet)
df_history <- read.csv("emap_A.csv")
df_history <- df_history[,c("lat","lng","size_check","owner","years")]
df_history[,"size_check"] <- df_history[,"size_check"]/1000
df_history[,"years"] <- as.numeric(gsub("([0-9]+).*$", "\\1", df_history[,"years"]))
df_history[which(is.na(df_history[,"years"])),"years"] <- 2000
m = leaflet(df_history) %>% addTiles()
owner <- unique(df_history[,"owner"])
RdYlBu = colorFactor("RdYlBu", owner)
m %>% addCircleMarkers(~lng, ~lat, radius = ~size_check,
color = ~RdYlBu(owner), fillOpacity = 0.5)
print(source('leaflet.R')$value)
print(source('leaflet.R')$value)
print(source('leaflet.R')$value)
library(leaflet)
df_history <- read.csv("emap_A.csv")
df_history <- df_history[,c("lat","lng","size_check","owner","years")]
df_history[,"size_check"] <- df_history[,"size_check"]/300
df_history[,"years"] <- as.numeric(gsub("([0-9]+).*$", "\\1", df_history[,"years"]))
df_history[which(is.na(df_history[,"years"])),"years"] <- 2000
m = leaflet(df_history) %>% addTiles()
owner <- unique(df_history[,"owner"])
RdYlBu = colorFactor("RdYlBu", owner)
m %>% addCircleMarkers(~lng, ~lat, radius = ~size_check,
color = ~RdYlBu(owner), fillOpacity = 0.5)
print(source('leaflet.R')$value)
print(source('leaflet.R')$value)
print(source('leaflet.R')$value)
print(source('leaflet.R')$value)
print(source('leaflet.R')$value)
print(source('leaflet.R')$value)
print(source('leaflet.R')$value)
print(source('leaflet.R')$value)
print(source('leaflet.R')$value)
print(source('leaflet.R')$value)
print(source('leaflet.R')$value)
print(source('leaflet.R')$value)
print(source('leaflet.R')$value)
library(leaflet)
df_history <- read.csv("emap_A.csv")
df_history <- df_history[,c("lat","lng","size_check","owner","years")]
df_history[,"size_check"] <- df_history[,"size_check"]/100
df_history[,"years"] <- as.numeric(gsub("([0-9]+).*$", "\\1", df_history[,"years"]))
df_history[which(is.na(df_history[,"years"])),"years"] <- 2000
m = leaflet(df_history) %>% addTiles()
owner <- unique(df_history[,"owner"])
RdYlBu = colorFactor("RdYlBu", owner)
m %>% addCircleMarkers(~lng, ~lat, radius = ~size_check,
color = ~RdYlBu(owner), fillOpacity = 0.5)
print(source('leaflet.R')$value)
print(source('leaflet.R')$value)
print(source('leaflet.R')$value)
print(source('leaflet.R')$value)
library(leaflet)
df_history <- read.csv("emap_A.csv")
df_history <- df_history[,c("lat","lng","size_check","owner","years")]
df_history[,"size_check"] <- df_history[,"size_check"]/64
df_history[,"years"] <- as.numeric(gsub("([0-9]+).*$", "\\1", df_history[,"years"]))
df_history[which(is.na(df_history[,"years"])),"years"] <- 2000
m = leaflet(df_history) %>% addTiles()
owner <- unique(df_history[,"owner"])
RdYlBu = colorFactor("RdYlBu", owner)
m %>% addCircleMarkers(~lng, ~lat, radius = ~size_check,
color = ~RdYlBu(owner), fillOpacity = 0.5)
print(source('leaflet.R')$value)
print(source('leaflet.R')$value)
print(source('leaflet.R')$value)
print(source('leaflet.R')$value)
library(leaflet)
# example from https://rstudio.github.io/leaflet/popups.html
content <- paste(sep = "<br/>",
"<b><a href='http://www.samurainoodle.com'>Samurai Noodle</a></b>",
"606 5th Ave. S",
"Seattle, WA 98138"
)
leaflet() %>% addTiles() %>%
addPopups(-122.327298, 47.597131, content,
options = popupOptions(closeButton = FALSE)
)
# according to ?popupOptions can specify min/maxWidth
#  set min and max width the to force a width
leaflet() %>% addTiles() %>%
addPopups(
-122.327298, 47.597131,
content,
options = popupOptions(
closeButton = FALSE,
minWidth = 300,
maxWidth = 300
)
# on the other hand, it appears that we only have maxHeight
#  so height cannot be controlled in the same way
leaflet() %>% addTiles() %>%
addPopups(
-122.327298, 47.597131,
content,
options = popupOptions(
closeButton = FALSE,
maxHeight = 20
)
)
# let's extend the example to show how we can use
#   htmltools to add CSS to control our popups
# could also use the approach suggested in
#  the other answer, but I think this is more
#  fitting with typical HTML/JS convention
lf <- leaflet() %>% addTiles() %>%
addPopups(
-122.327298, 47.597131,
content,
options = popupOptions(
closeButton = FALSE,
# not necessary but adding a className
#   can help in terms of specificity
#   especially if you have multiple popups
#   with different styling
className = "myspecial-popup"
)
)
library(htmltools)
browsable(
tagList(
tags$head(
#  more specific is better
tags$style(
'div.myspecial-popup div.leaflet-popup-content-wrapper {
height: 400px;
opacity: .5;
}'
)
),
lf
)
)
View(df_history)
df_history <- read.csv("emap_A.csv")
df_history <- df_history[,c("lat","lng","size_check","owner","years")]
df_history[,"size_check"] <- df_history[,"size_check"]/64
View(df_history)
df_history <- read.csv("emap_A.csv")
View(df_history)
library(leaflet)
library(leaflet)
df_history <- read.csv("emap_A.csv")
df_history <- df_history[,c("name_tw","lat","lng","size_check","owner","years")]
df_history[,"size_check"] <- df_history[,"size_check"]/64
df_history[,"years"] <- as.numeric(gsub("([0-9]+).*$", "\\1", df_history[,"years"]))
df_history[which(is.na(df_history[,"years"])),"years"] <- 2000
m = leaflet(df_history) %>% addTiles()
owner <- unique(df_history[,"owner"])
RdYlBu = colorFactor("RdYlBu", owner)
m %>% addCircleMarkers(~lng, ~lat, radius = ~size_check,
color = ~RdYlBu(owner), fillOpacity = 0.5)
print(source('leaflet.R')$value)
print(source('leaflet.R')$value)
leaflet() %>% addTiles() %>%
print(source('leaflet.R')$value)
print(source('leaflet.R')$value)
print(source('leaflet.R')$value)
print(source('leaflet.R')$value)
print(source('leaflet.R')$value)
print(source('leaflet.R')$value)
print(source('leaflet.R')$value)
print(source('leaflet.R')$value)
print(source('leaflet.R')$value)
print(source('leaflet.R')$value)
install.packages("shinythemes")
print(source('leaflet.R')$value)
print(source('leaflet.R')$value)
print(source('leaflet.R')$value)
print(source('leaflet.R')$value)
print(source('leaflet.R')$value)
print(source('leaflet.R')$value)
print(source('leaflet.R')$value)
print(source('leaflet.R')$value)
print(source('leaflet.R')$value)
print(source('leaflet.R')$value)
print(source('leaflet.R')$value)
print(source('leaflet.R')$value)
print(source('leaflet.R')$value)
print(source('leaflet.R')$value)
print(source('leaflet.R')$value)
print(source('leaflet.R')$value)
print(source('leaflet.R')$value)
print(source('leaflet.R')$value)
print(source('leaflet.R')$value)
print(source('leaflet.R')$value)
print(source('leaflet.R')$value)
print(source('leaflet.R')$value)
print(source('leaflet.R')$value)
print(source('leaflet.R')$value)
print(source('leaflet.R')$value)
print(source('leaflet.R')$value)
print(source('leaflet.R')$value)
print(source('leaflet.R')$value)
print(source('leaflet.R')$value)
print(source('leaflet.R')$value)
print(source('leaflet.R')$value)
print(source('leaflet.R')$value)
print(source('leaflet.R')$value)
print(source('leaflet.R')$value)
print(source('leaflet.R')$value)
print(source('leaflet.R')$value)
print(source('leaflet.R')$value)
print(source('leaflet.R')$value)
print(source('leaflet.R')$value)
print(source('leaflet.R')$value)
View(df_history)
df_history <- read.csv("emap_A.csv")
View(df_history)
print(source('leaflet.R')$value)
print(source('leaflet.R')$value)
library(leaflet)
df_history <- read.csv("emap_A.csv")
df_history <- df_history[,c("name_tw","lat","lng","size_check","owner","years","website","address")]
df_history[,"size_check"] <- df_history[,"size_check"]/64
df_history[,"years"] <- as.numeric(gsub("([0-9]+).*$", "\\1", df_history[,"years"]))
df_history[which(is.na(df_history[,"years"])),"years"] <- 2000
m = leaflet(df_history) %>% addTiles()
owner <- unique(df_history[,"owner"])
RdYlBu = colorFactor("RdYlBu", owner)
m %>% addCircleMarkers(~lng, ~lat, radius = ~size_check,
color = ~RdYlBu(owner), fillOpacity = 0.5)
print(source('leaflet.R')$value)
print(source('leaflet.R')$value)
print(source('leaflet.R')$value)
print(source('leaflet.R')$value)
print(source('leaflet.R')$value)
print(source('leaflet.R')$value)
print(source('leaflet.R')$value)
print(source('leaflet.R')$value)
print(source('leaflet.R')$value)
print(source('leaflet.R')$value)
library(leaflet)
df_history <- read.csv("emap_A.csv")
df_history <- df_history[,c("name_tw","lat","lng","size_check","owner","years","website","address")]
df_history[,"size_check"] <- df_history[,"size_check"]/64
df_history[,"years"] <- as.numeric(gsub("([0-9]+).*$", "\\1", df_history[,"years"]))
df_history[which(is.na(df_history[,"years"])),"years"] <- 2000
m = leaflet(df_history) %>% addTiles()
owner <- unique(df_history[,"owner"])
RdYlBu = colorFactor("RdGy", owner)
m %>% addCircleMarkers(~lng, ~lat, radius = ~size_check,
color = ~RdYlBu(owner), fillOpacity = 0.5)
library(leaflet)
df_history <- read.csv("emap_A.csv")
df_history <- df_history[,c("name_tw","lat","lng","size_check","owner","years","website","address")]
df_history[,"size_check"] <- df_history[,"size_check"]/64
df_history[,"years"] <- as.numeric(gsub("([0-9]+).*$", "\\1", df_history[,"years"]))
df_history[which(is.na(df_history[,"years"])),"years"] <- 2000
m = leaflet(df_history) %>% addTiles()
owner <- unique(df_history[,"owner"])
RdYlBu = colorFactor("Spectral", owner)
m %>% addCircleMarkers(~lng, ~lat, radius = ~size_check,
color = ~RdYlBu(owner), fillOpacity = 0.5)
library(leaflet)
df_history <- read.csv("emap_A.csv")
df_history <- df_history[,c("name_tw","lat","lng","size_check","owner","years","website","address")]
df_history[,"size_check"] <- df_history[,"size_check"]/64
df_history[,"years"] <- as.numeric(gsub("([0-9]+).*$", "\\1", df_history[,"years"]))
df_history[which(is.na(df_history[,"years"])),"years"] <- 2000
m = leaflet(df_history) %>% addTiles()
owner <- unique(df_history[,"owner"])
RdYlBu = colorFactor("Dark2", owner)
m %>% addCircleMarkers(~lng, ~lat, radius = ~size_check,
color = ~RdYlBu(owner), fillOpacity = 0.5)
print(source('leaflet.R')$value)
print(source('leaflet.R')$value)
library(leaflet)
df_history <- read.csv("emap_A.csv")
df_history <- df_history[,c("name_tw","lat","lng","size_check","owner","years","website","address")]
df_history[,"size_check"] <- df_history[,"size_check"]/64
df_history[,"years"] <- as.numeric(gsub("([0-9]+).*$", "\\1", df_history[,"years"]))
df_history[which(is.na(df_history[,"years"])),"years"] <- 2000
m = leaflet(df_history) %>% addTiles()
owner <- unique(df_history[,"owner"])
RdYlBu = colorFactor("RdYlGn", owner)
m %>% addCircleMarkers(~lng, ~lat, radius = ~size_check,
color = ~RdYlBu(owner), fillOpacity = 0.5)
print(source('leaflet.R')$value)
library(leaflet)
df_history <- read.csv("emap_A.csv")
df_history <- df_history[,c("name_tw","lat","lng","size_check","owner","years","website","address")]
df_history[,"size_check"] <- df_history[,"size_check"]/64
df_history[,"years"] <- as.numeric(gsub("([0-9]+).*$", "\\1", df_history[,"years"]))
df_history[which(is.na(df_history[,"years"])),"years"] <- 2000
m = leaflet(df_history) %>% addTiles()
owner <- unique(df_history[,"owner"])
RdYlBu = colorFactor("RdBu", owner)
m %>% addCircleMarkers(~lng, ~lat, radius = ~size_check,
color = ~RdYlBu(owner), fillOpacity = 0.5)
print(source('leaflet.R')$value)
print(source('leaflet.R')$value)
library(leaflet)
df_history <- read.csv("emap_A.csv")
df_history <- df_history[,c("name_tw","lat","lng","size_check","owner","years","website","address")]
df_history[,"size_check"] <- df_history[,"size_check"]/64
df_history[,"years"] <- as.numeric(gsub("([0-9]+).*$", "\\1", df_history[,"years"]))
df_history[which(is.na(df_history[,"years"])),"years"] <- 2000
m = leaflet(df_history) %>% addTiles()
owner <- unique(df_history[,"owner"])
RdYlBu = colorFactor("Set1", owner)
m %>% addCircleMarkers(~lng, ~lat, radius = ~size_check,
color = ~RdYlBu(owner), fillOpacity = 0.5)
print(source('leaflet.R')$value)
print(source('leaflet.R')$value)
library(leaflet)
library(leaflet)
df_history <- read.csv("emap_A.csv")
df_history <- df_history[,c("name_tw","lat","lng","size_check","owner","years","website","address")]
df_history[,"size_check"] <- df_history[,"size_check"]/64
df_history[,"years"] <- as.numeric(gsub("([0-9]+).*$", "\\1", df_history[,"years"]))
df_history[which(is.na(df_history[,"years"])),"years"] <- 2000
m = leaflet(df_history) %>% addTiles()
owner <- unique(df_history[,"owner"])
RdYlBu = colorFactor("RdYlBu", owner)
m %>% addCircleMarkers(~lng, ~lat, radius = ~size_check,
color = ~RdYlBu(owner), fillOpacity = 0.5)
print(source('leaflet.R')$value)
print(source('leaflet.R')$value)
print(source('leaflet.R')$value)
library(leaflet)
df_history <- read.csv("emap_A.csv")
df_history <- df_history[,c("name_tw","lat","lng","size_check","owner","years","website","address")]
df_history[,"size_check"] <- df_history[,"size_check"]/64
df_history[,"years"] <- as.numeric(gsub("([0-9]+).*$", "\\1", df_history[,"years"]))
df_history[which(is.na(df_history[,"years"])),"years"] <- 2000
m = leaflet(df_history) %>% addTiles()
owner <- unique(df_history[,"owner"])
RdYlBu = colorFactor("Spectral", owner)
m %>% addCircleMarkers(~lng, ~lat, radius = ~size_check,
color = ~RdYlBu(owner), fillOpacity = 0.5)
print(source('leaflet.R')$value)
print(source('leaflet.R')$value)
print(source('leaflet.R')$value)
print(source('leaflet.R')$value)
print(source('leaflet.R')$value)
print(source('leaflet.R')$value)
print(source('leaflet.R')$value)
print(source('leaflet.R')$value)
print(source('leaflet.R')$value)
print(source('leaflet.R')$value)
print(source('leaflet.R')$value)
print(source('leaflet.R')$value)
print(source('leaflet.R')$value)
print(source('leaflet.R')$value)
print(source('leaflet.R')$value)
print(source('leaflet.R')$value)
print(source('leaflet.R')$value)
print(source('leaflet.R')$value)
print(source('leaflet.R')$value)
print(source('leaflet.R')$value)
print(source('leaflet.R')$value)
print(source('leaflet.R')$value)
print(source('leaflet.R')$value)
print(source('leaflet.R')$value)
print(source('leaflet.R')$value)
LETTERS[1:10]
print(source('leaflet.R')$value)
print(source('leaflet.R')$value)
print(source('leaflet.R')$value)
print(source('leaflet.R')$value)
print(source('leaflet.R')$value)
print(source('leaflet.R')$value)
print(source('leaflet.R')$value)
print(source('leaflet.R')$value)
print(source('leaflet.R')$value)
print(source('leaflet.R')$value)
print(source('leaflet.R')$value)
print(source('leaflet.R')$value)
print(source('leaflet.R')$value)
library(leaflet)
df_history <- read.csv("emap_A.csv")
df_history <- df_history[,c("name_tw","lat","lng","size_check","owner","years","website","address")]
df_history[,"size_check"] <- df_history[,"size_check"]/64
df_history[,"years"] <- as.numeric(gsub("([0-9]+).*$", "\\1", df_history[,"years"]))
df_history[which(is.na(df_history[,"years"])),"years"] <- 2000
m = leaflet(df_history) %>% addTiles()
owner <- unique(df_history[,"owner"])
RdYlBu = colorFactor("Spectral", owner)
m %>% addCircleMarkers(~lng, ~lat, radius = ~size_check,
color = ~RdYlBu(owner), fillOpacity = 0.5)
print(source('leaflet.R')$value)
print(source('leaflet.R')$value)
print(source('leaflet.R')$value)
print(source('leaflet.R')$value)
print(source('leaflet.R')$value)
library(shiny)
ui <- fluidPage(leafletOutput("map1"))
server <- function(input, output, session) {
output$map1 <- renderLeaflet({
leaflet() %>% addCircleMarkers(lng = runif(10), lat = runif(10),
layerId = paste0("marker", 1:10))
})
observeEvent(input$map1_marker_click, {
leafletProxy("map1", session) %>% removeMarker(input$map1_marker_click$id)
})
}
shinyApp(ui, server)
print(source('leaflet.R')$value)
print(source('leaflet.R')$value)
print(source('leaflet.R')$value)
print(source('leaflet.R')$value)
print(source('leaflet.R')$value)
print(source('leaflet.R')$value)
print(source('leaflet.R')$value)
print(source('leaflet.R')$value)
print(source('leaflet.R')$value)
print(source('leaflet.R')$value)
print(source('leaflet.R')$value)
print(source('leaflet.R')$value)
print(source('leaflet.R')$value)
print(source('leaflet.R')$value)
print(source('leaflet.R')$value)
print(source('leaflet.R')$value)
print(source('leaflet.R')$value)
print(source('leaflet.R')$value)
print(source('leaflet.R')$value)
print(source('leaflet.R')$value)
print(source('leaflet.R')$value)
print(source('leaflet.R')$value)
print(source('leaflet.R')$value)
print(source('leaflet.R')$value)
install.packages('rsconnect')
{{ text }}
